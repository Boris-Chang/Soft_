<table mat-table [dataSource]="datasource">
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let element">
      <ng-container *ngIf="asTypedModel(element) as typedElement">
        {{typedElement.soul.firstName}} {{typedElement.soul.lastName}}
      </ng-container>
    </td>
  </ng-container>

  <ng-container matColumnDef="dateOfDeath">
    <th mat-header-cell *matHeaderCellDef> Date of Death </th>
    <td mat-cell *matCellDef="let element">
      <ng-container *ngIf="asTypedModel(element) as typedElement">
        {{typedElement.soul.dateOfDeath}}
      </ng-container>
    </td>
  </ng-container>

  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef> Status </th>
    <td mat-cell *matCellDef="let element">
      <ng-container *ngIf="asTypedModel(element) as typedElement">
        <span *ngIf="typedElement.goodnessReport == null && typedElement.sinsReport == null">
          Reports not uploaded
        </span>

        <span *ngIf="typedElement.goodnessReport == null && typedElement.sinsReport != null">
          Goodness report not uploaded
        </span>

        <span *ngIf="typedElement.goodnessReport != null && typedElement.sinsReport == null">
          Sins report not uploaded
        </span>

        <span *ngIf="typedElement.goodnessReport != null && typedElement.sinsReport != null">
          Reports are uploaded
        </span>
      </ng-container>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
