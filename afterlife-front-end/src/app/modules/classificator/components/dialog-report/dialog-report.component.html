<h1 mat-dialog-title>Reports of Sins and Goodness</h1>
<mat-divider></mat-divider>
<div mat-dialog-content class="mat-typography">
   <mat-card class="example-card">
    <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title *ngIf="soul">{{soul.firstName}} {{soul.lastName}}</mat-card-title>
        <mat-card-subtitle *ngIf="soul">{{soul.dateOfDeath}}</mat-card-subtitle>
        <mat-card-title *ngIf="soul?.classifiedAfterworldSection">Место прибывания: {{soul.classifiedAfterworldSection.afterwoldKind}}</mat-card-title>
        <mat-card-subtitle *ngIf="resultArgue">{{resultArgue.decisionText}}</mat-card-subtitle>    
    </mat-card-header>
        <!-- <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu"> -->
        <div>
            <button type="button" (click)="postMark()">Mark Argue</button>
            <mat-card-subtitle *ngIf="resultMark">{{resultMark.decisionText}}</mat-card-subtitle>
            <mat-card-subtitle *ngIf="resultMark">{{resultMark.isArguedByGod}}</mat-card-subtitle>
            <mat-card-subtitle *ngIf="resultMark">{{resultMark.isArguedByDevil}}</mat-card-subtitle>
        </div>
     
        <mat-card-content>
            <h3>Report from Goodness</h3>
                <table class="example-table mat-elevation-z8" mat-table matSort #TableOneSort="matSort" recycleRows [dataSource]="dataSourceOfgoodness">
                    <!-- Position Column -->
                    <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                    </ng-container>
                    <!-- Kind Column -->
                    <ng-container matColumnDef="kind">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Kind </th>
                        <td mat-cell *matCellDef="let element"> {{element.kind}} </td>
                    </ng-container>
                    <!-- Date Column -->
                    <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                    <td mat-cell *matCellDef="let element"> {{element.date}} </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsOfgoodness"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsOfgoodness;"></tr>
                </table>
            <mat-card-actions> <app-goodness-uploader [soulId]="this.soulId"></app-goodness-uploader></mat-card-actions>

            <mat-divider></mat-divider>

            <h3>Report from Sins</h3>
            <table class="example-table mat-elevation-z8" mat-table matSort #TableTwoSort="matSort" recycleRows [dataSource]="dataSourceofsins">
                <!-- Position Column -->
                <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> No. </th>
                <td mat-cell *matCellDef="let element"> {{element.id}} </td>
                </ng-container>
                <!-- Kind Column -->
                <ng-container matColumnDef="kind">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Kind </th>
                    <td mat-cell *matCellDef="let element"> {{element.kind}} </td>
                </ng-container>
                <!-- Date Column -->
                <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                <td mat-cell *matCellDef="let element"> {{element.date}} </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumnsOfsins"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumnsOfsins;"></tr>
            </table>
        <mat-card-actions><app-sins-uploader [soulId]="this.soulId"></app-sins-uploader></mat-card-actions>

        <!-- <mat-divider></mat-divider>  -->

        <mat-accordion>
            <mat-expansion-panel (opened)="panelOpenState = true"
            (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
            <mat-panel-title>
                Комментарии
            </mat-panel-title>
            <mat-panel-description>
            Currently I am {{panelOpenState ? 'open' : 'closed'}}
            </mat-panel-description>
            </mat-expansion-panel-header>
              <ng-container *ngIf="commentGroups && commentGroups.length > 0">
                <h3>Комментарии: </h3>
                    <p *ngFor="let comment of commentGroups">{{comment.text}}</p>
              </ng-container>
            </mat-expansion-panel>
            </mat-accordion> 
            <br>
            <h3>Оставайтесь со своим комментарием</h3>
            <form name="form" #userPost="ngForm" (ngSubmit)="onSubmit(userPost.value)">
                <input type="number" name="id" ngModel placeholder="id"> <br><br>
                <input type="text" name="text" ngModel placeholder="comment"> <br><br>
                <input type="text" name="createdAt" ngModel placeholder="createdAt"> <br><br>
                <button type="submit">submit comment</button>
            </form>          
    </mat-card-content>
    <mat-card-actions>
        <h4>Места решения</h4>
        <mat-form-field appearance="fill">
            <mat-label>Небеса или Ада?</mat-label>
            <mat-select [formControl]="placesControl">
                <mat-optgroup *ngFor="let group of placesGroups" [label]="group.name"
[disabled]="group.disabled">
                    <mat-option *ngFor="let places of group.places" [value]="places.value">
                        {{places.viewValue}}
                    </mat-option>
                </mat-optgroup>
            </mat-select>
        </mat-form-field>

        <button mat-button>Submit</button>
    </mat-card-actions>
</mat-card>
</div>
<mat-dialog-actions align="end">
<button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>
